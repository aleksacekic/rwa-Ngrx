{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let TransferiComponent = class TransferiComponent {\n  constructor(store, fudbalskiTimService, korisnikService) {\n    this.store = store;\n    this.fudbalskiTimService = fudbalskiTimService;\n    this.korisnikService = korisnikService;\n    this.igraciTransferLista = [];\n    this.korisnikService.getKorisnikById(1).subscribe(korisnik => {\n      this.trenutniKorisnik = korisnik;\n    });\n  }\n  ngOnInit() {\n    this.fudbalskiTimService.getIgraciTransferLista().subscribe(data => {\n      this.igraciTransferLista = data;\n    });\n  }\n  kupiIgraca(igrac) {\n    if (this.trenutniKorisnik && this.trenutniKorisnik.virtuelniNovac >= igrac.cena) {\n      this.fudbalskiTimService.buyIgrac(igrac).subscribe(() => {\n        // Ako je kupovina uspešna, osveži podatke o korisniku i igracima na transfer listi\n        this.korisnikService.getKorisnikById(this.trenutniKorisnik.id).subscribe(korisnik => {\n          this.trenutniKorisnik = korisnik;\n        });\n        this.fudbalskiTimService.getIgraciTransferLista().subscribe(data => {\n          this.igraciTransferLista = data;\n        });\n      });\n    } else {\n      console.log('Nemate dovoljno novca za kupovinu.');\n    }\n  }\n};\nTransferiComponent = __decorate([Component({\n  selector: 'app-transferi',\n  templateUrl: './transferi.component.html',\n  styleUrls: ['./transferi.component.css']\n})], TransferiComponent);","map":{"version":3,"names":["Component","TransferiComponent","constructor","store","fudbalskiTimService","korisnikService","igraciTransferLista","getKorisnikById","subscribe","korisnik","trenutniKorisnik","ngOnInit","getIgraciTransferLista","data","kupiIgraca","igrac","virtuelniNovac","cena","buyIgrac","id","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\AngularProjekat\\src\\app\\component\\transferi\\transferi.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AppState } from 'src/app/app.state';\nimport { Korisnik } from 'src/app/models/korisnik';\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service'\nimport { KorisnikService } from 'src/app/services/korisnik.service';\n\n@Component({\n  selector: 'app-transferi',\n  templateUrl: './transferi.component.html',\n  styleUrls: ['./transferi.component.css']\n})\nexport class TransferiComponent implements OnInit {\n  igraciTransferLista: any[] = [];\n  trenutniKorisnik: Korisnik | undefined;\n\n  constructor(private store: Store<AppState>, private fudbalskiTimService: FudbalskitimService, private korisnikService: KorisnikService) {\n    this.korisnikService.getKorisnikById(1).subscribe(korisnik => {\n      this.trenutniKorisnik = korisnik;\n    });\n  }\n\n  ngOnInit() {\n    this.fudbalskiTimService.getIgraciTransferLista().subscribe(data => {\n      this.igraciTransferLista = data;\n    });\n  }\n\n  kupiIgraca(igrac: any) {\n    if (this.trenutniKorisnik && this.trenutniKorisnik.virtuelniNovac >= igrac.cena) {\n      this.fudbalskiTimService.buyIgrac(igrac).subscribe(() => {\n        // Ako je kupovina uspešna, osveži podatke o korisniku i igracima na transfer listi\n        this.korisnikService.getKorisnikById(this.trenutniKorisnik.id).subscribe(korisnik => {\n          this.trenutniKorisnik = korisnik;\n        });\n        this.fudbalskiTimService.getIgraciTransferLista().subscribe(data => {\n          this.igraciTransferLista = data;\n        });\n      });\n    } else {\n      console.log('Nemate dovoljno novca za kupovinu.');\n    }\n  }\n  \n\n }\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAW1C,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAI7BC,YAAoBC,KAAsB,EAAUC,mBAAwC,EAAUC,eAAgC;IAAlH,KAAAF,KAAK,GAALA,KAAK;IAA2B,KAAAC,mBAAmB,GAAnBA,mBAAmB;IAA+B,KAAAC,eAAe,GAAfA,eAAe;IAHrH,KAAAC,mBAAmB,GAAU,EAAE;IAI7B,IAAI,CAACD,eAAe,CAACE,eAAe,CAAC,CAAC,CAAC,CAACC,SAAS,CAACC,QAAQ,IAAG;MAC3D,IAAI,CAACC,gBAAgB,GAAGD,QAAQ;IAClC,CAAC,CAAC;EACJ;EAEAE,QAAQA,CAAA;IACN,IAAI,CAACP,mBAAmB,CAACQ,sBAAsB,EAAE,CAACJ,SAAS,CAACK,IAAI,IAAG;MACjE,IAAI,CAACP,mBAAmB,GAAGO,IAAI;IACjC,CAAC,CAAC;EACJ;EAEAC,UAAUA,CAACC,KAAU;IACnB,IAAI,IAAI,CAACL,gBAAgB,IAAI,IAAI,CAACA,gBAAgB,CAACM,cAAc,IAAID,KAAK,CAACE,IAAI,EAAE;MAC/E,IAAI,CAACb,mBAAmB,CAACc,QAAQ,CAACH,KAAK,CAAC,CAACP,SAAS,CAAC,MAAK;QACtD;QACA,IAAI,CAACH,eAAe,CAACE,eAAe,CAAC,IAAI,CAACG,gBAAgB,CAACS,EAAE,CAAC,CAACX,SAAS,CAACC,QAAQ,IAAG;UAClF,IAAI,CAACC,gBAAgB,GAAGD,QAAQ;QAClC,CAAC,CAAC;QACF,IAAI,CAACL,mBAAmB,CAACQ,sBAAsB,EAAE,CAACJ,SAAS,CAACK,IAAI,IAAG;UACjE,IAAI,CAACP,mBAAmB,GAAGO,IAAI;QACjC,CAAC,CAAC;MACJ,CAAC,CAAC;KACH,MAAM;MACLO,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;;EAErD;CAGA;AAjCWpB,kBAAkB,GAAAqB,UAAA,EAL9BtB,SAAS,CAAC;EACTuB,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWxB,kBAAkB,CAiC7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}