{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { select } from '@ngrx/store';\nimport { filter, of } from 'rxjs';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nexport let FudbalskitimComponent = class FudbalskitimComponent {\n  constructor(store, fudbalskitimService) {\n    this.store = store;\n    this.fudbalskitimService = fudbalskitimService;\n    this.trenutniTimID = 2; // hardcoded\n    this.trenutniTim$ = of();\n    this.igraciTerenIds$ = of([]);\n    this.igraciZamenaIds$ = of([]);\n    this.igraciZamena$ = of([]);\n    this.golmani$ = of([]);\n    this.odbrambeni$ = of([]);\n    this.veznjaci$ = of([]);\n    this.napadaci$ = of([]);\n    this.selectedPlayerIdOut = null;\n    this.selectedPlayerIdIn = null;\n  }\n  ngOnInit() {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    this.store.dispatch(TimActions.loadTimById({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadIgraciZamena({\n      timID: this.trenutniTimID\n    }));\n    console.log(this.igraciZamenaIds$, this.igraciZamena$, this.golmani$, this.odbrambeni$, this.veznjaci$);\n    this.store.pipe(select(state => state)).subscribe(currentState => {\n      console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n    });\n    console.log(\"SACE UDJEMO U IGRACEZAMENA\");\n    this.store.select(fromApp.selectIgraciZamena).subscribe(igraciZamena => {\n      console.log(igraciZamena);\n      for (const igrac of igraciZamena) {\n        console.log(\"USO U FOR\");\n        this.fudbalskitimService.getIgracById(igrac.id).subscribe(igracInfo => {\n          console.log('Dobijeni igrač sa klupi:', igracInfo);\n          // Ažurirajte vašu komponentu sa informacijama o igračima sa klupa\n        });\n      }\n\n      console.log(\"IZASO IZ FOR\");\n    });\n    this.store.dispatch(TimActions.loadIgraciZamena({\n      timID: this.trenutniTimID\n    }));\n    this.store.pipe(console.log(igraci), select(fromApp.selectIgraciZamena),\n    // Pratimo selektor za igrače zamena\n    filter(igraciZamena => igraciZamena.length > 0)).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena); // Dodeljujemo observable vrednost\n      // Ostatak vaše logike za obradu igrača zamena\n    });\n  }\n\n  clickedUlazi(playerId) {\n    this.selectedPlayerIdOut = playerId;\n  }\n  clickedIzlazi(playerId) {\n    this.selectedPlayerIdIn = playerId;\n  }\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(TimActions.swapPlayers({\n        igracIzlaziId: this.selectedPlayerIdOut,\n        igracUlaziId: this.selectedPlayerIdIn\n      }));\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n  }\n};\nFudbalskitimComponent = __decorate([Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})], FudbalskitimComponent);","map":{"version":3,"names":["Component","select","filter","of","fromApp","TimActions","FudbalskitimComponent","constructor","store","fudbalskitimService","trenutniTimID","trenutniTim$","igraciTerenIds$","igraciZamenaIds$","igraciZamena$","golmani$","odbrambeni$","veznjaci$","napadaci$","selectedPlayerIdOut","selectedPlayerIdIn","ngOnInit","selectIgraciTerenIds","selectIgraciZamenaIds","selectIgraciZamena","selectGolmani","selectOdbrambeni","selectVeznjaci","selectNapadaci","dispatch","loadTimById","timID","loadIgraciZamena","console","log","pipe","state","subscribe","currentState","igraci","timovi","igraciZamena","igrac","getIgracById","id","igracInfo","length","clickedUlazi","playerId","clickedIzlazi","swapPlayers","igracIzlaziId","igracUlaziId","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\AngularProjekat\\src\\app\\components\\fudbalskitim\\fudbalskitim.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\nimport { Observable, filter, of } from 'rxjs';\nimport { AppState } from 'src/app/app.state';\nimport { Igrac } from 'src/app/models/igrac';\nimport { Tim } from 'src/app/models/tim';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service';\nimport { selectIgraciZamena, selectIgraciZamenaIds } from 'src/app/store/igrac.selector';\n\n@Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})\nexport class FudbalskitimComponent implements OnInit {\n  trenutniTimID = 2; // hardcoded\n  trenutniTim$: Observable<Tim | undefined> = of();\n  igraciTerenIds$: Observable<number[]> = of([]);\n  igraciZamenaIds$: Observable<number[]> = of([]);\n  igraciZamena$: Observable<Igrac[]> = of([]);\n  golmani$: Observable<Igrac[]>= of([]);\n  odbrambeni$: Observable<Igrac[]>= of([]);\n  veznjaci$: Observable<Igrac[]>= of([]);\n  napadaci$: Observable<Igrac[]> = of([]);\n\n  selectedPlayerIdOut: number | null = null;\n  selectedPlayerIdIn: number | null = null;\n\n  constructor(private store: Store<AppState>, private fudbalskitimService: FudbalskitimService) {}\n\n  ngOnInit(): void {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    \n\n    this.store.dispatch(TimActions.loadTimById({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadIgraciZamena({ timID: this.trenutniTimID }));\n\n    console.log(this.igraciZamenaIds$,this.igraciZamena$,this.golmani$,this.odbrambeni$,this.veznjaci$);\n\n    this.store.pipe(select(state => state)).subscribe(currentState => {\n      console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n    });\n\n    console.log(\"SACE UDJEMO U IGRACEZAMENA\")\n    this.store.select(fromApp.selectIgraciZamena).subscribe(igraciZamena => {\n      console.log(igraciZamena);\n      for (const igrac of igraciZamena) {\n        console.log(\"USO U FOR\")\n        this.fudbalskitimService.getIgracById(igrac.id).subscribe(igracInfo => {\n          console.log('Dobijeni igrač sa klupi:', igracInfo);\n          // Ažurirajte vašu komponentu sa informacijama o igračima sa klupa\n        });\n      }\n      console.log(\"IZASO IZ FOR\")\n    });\n\n\n  \n    this.store.dispatch(TimActions.loadIgraciZamena({ timID: this.trenutniTimID }));\n\n    this.store.pipe(\n      console.log(igraci)\n      select(fromApp.selectIgraciZamena), // Pratimo selektor za igrače zamena\n      filter(igraciZamena => igraciZamena.length > 0), // Osiguravamo da ima igrača zamena\n    ).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena); // Dodeljujemo observable vrednost\n      // Ostatak vaše logike za obradu igrača zamena\n    });\n    \n \n  }\n\n  clickedUlazi(playerId: number) {\n    this.selectedPlayerIdOut = playerId;\n  }\n\n  clickedIzlazi(playerId: number) {\n    this.selectedPlayerIdIn = playerId;\n  }\n\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(\n        TimActions.swapPlayers({\n          igracIzlaziId: this.selectedPlayerIdOut,\n          igracUlaziId: this.selectedPlayerIdIn\n        })\n      );\n\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}