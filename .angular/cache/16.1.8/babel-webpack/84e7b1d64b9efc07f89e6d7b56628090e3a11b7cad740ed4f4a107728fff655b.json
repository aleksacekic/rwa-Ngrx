{"ast":null,"code":"var _class;\nimport { map, switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"src/app/services/fudbalskitim.service\";\nexport class UtakmicaComponent {\n  constructor(store, fudbalskitimService) {\n    this.store = store;\n    this.fudbalskitimService = fudbalskitimService;\n    this.trenutniTimID = 1;\n  }\n  simulateMatch(protivnikId) {\n    return this.fudbalskitimService.getTimById(this.trenutniTimID).pipe(switchMap(nasTim => {\n      return this.fudbalskitimService.getTimById(protivnikId).pipe(map(protivnik => {\n        // Proračunajte ukupne ocene igrača za oba tima\n        const ukupnaOcenaNasihIgraca = nasTim.igraciTeren.reduce((acc, igrac) => acc + igrac.ocena, 0);\n        const ukupnaOcenaProtivnikovihIgraca = protivnik.igraciTeren.reduce((acc, igrac) => acc + igrac.ocena, 0);\n        // Utvrdite pobednika na osnovu ukupnih ocena\n        let pobednik = null;\n        if (ukupnaOcenaNasihIgraca > ukupnaOcenaProtivnikovihIgraca) {\n          pobednik = nasTim;\n        } else if (ukupnaOcenaNasihIgraca < ukupnaOcenaProtivnikovihIgraca) {\n          pobednik = protivnik;\n        }\n        return pobednik;\n      }));\n    }));\n  }\n}\n_class = UtakmicaComponent;\n_class.ɵfac = function UtakmicaComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.FudbalskitimService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-utakmica\"]],\n  decls: 2,\n  vars: 0,\n  template: function UtakmicaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"utakmica works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["map","switchMap","UtakmicaComponent","constructor","store","fudbalskitimService","trenutniTimID","simulateMatch","protivnikId","getTimById","pipe","nasTim","protivnik","ukupnaOcenaNasihIgraca","igraciTeren","reduce","acc","igrac","ocena","ukupnaOcenaProtivnikovihIgraca","pobednik","i0","ɵɵdirectiveInject","i1","Store","i2","FudbalskitimService","selectors","decls","vars","template","UtakmicaComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\AngularProjekat\\src\\app\\components\\utakmica\\utakmica.component.ts","D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\AngularProjekat\\src\\app\\components\\utakmica\\utakmica.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { Observable, map, switchMap } from 'rxjs';\nimport { AppState } from 'src/app/app.state';\nimport { Tim } from 'src/app/models/tim';\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service';\n\n@Component({\n  selector: 'app-utakmica',\n  templateUrl: './utakmica.component.html',\n  styleUrls: ['./utakmica.component.css']\n})\nexport class UtakmicaComponent {\n  trenutniTimID:number;\n  \n  constructor(private store: Store<AppState>, private fudbalskitimService: FudbalskitimService) {\n    this.trenutniTimID = 1;\n  }\n\n  simulateMatch(protivnikId: number) {\n    return this.fudbalskitimService.getTimById(this.trenutniTimID).pipe(\n      switchMap((nasTim) => {\n        return this.fudbalskitimService.getTimById(protivnikId).pipe(\n          map((protivnik) => {\n            // Proračunajte ukupne ocene igrača za oba tima\n            const ukupnaOcenaNasihIgraca = nasTim.igraciTeren.reduce((acc:number, igrac:Igrac) => acc + igrac.ocena, 0);\n            const ukupnaOcenaProtivnikovihIgraca = protivnik.igraciTeren.reduce((acc, igrac) => acc + igrac.ocena, 0);\n  \n            // Utvrdite pobednika na osnovu ukupnih ocena\n            let pobednik: Tim | null = null;\n            if (ukupnaOcenaNasihIgraca > ukupnaOcenaProtivnikovihIgraca) {\n              pobednik = nasTim;\n            } else if (ukupnaOcenaNasihIgraca < ukupnaOcenaProtivnikovihIgraca) {\n              pobednik = protivnik;\n            }\n  \n            return pobednik;\n          })\n        );\n      })\n    );\n  }\n  \n}\n","<p>utakmica works!</p>\n"],"mappings":";AAEA,SAAqBA,GAAG,EAAEC,SAAS,QAAQ,MAAM;;;;AAUjD,OAAM,MAAOC,iBAAiB;EAG5BC,YAAoBC,KAAsB,EAAUC,mBAAwC;IAAxE,KAAAD,KAAK,GAALA,KAAK;IAA2B,KAAAC,mBAAmB,GAAnBA,mBAAmB;IACrE,IAAI,CAACC,aAAa,GAAG,CAAC;EACxB;EAEAC,aAAaA,CAACC,WAAmB;IAC/B,OAAO,IAAI,CAACH,mBAAmB,CAACI,UAAU,CAAC,IAAI,CAACH,aAAa,CAAC,CAACI,IAAI,CACjET,SAAS,CAAEU,MAAM,IAAI;MACnB,OAAO,IAAI,CAACN,mBAAmB,CAACI,UAAU,CAACD,WAAW,CAAC,CAACE,IAAI,CAC1DV,GAAG,CAAEY,SAAS,IAAI;QAChB;QACA,MAAMC,sBAAsB,GAAGF,MAAM,CAACG,WAAW,CAACC,MAAM,CAAC,CAACC,GAAU,EAAEC,KAAW,KAAKD,GAAG,GAAGC,KAAK,CAACC,KAAK,EAAE,CAAC,CAAC;QAC3G,MAAMC,8BAA8B,GAAGP,SAAS,CAACE,WAAW,CAACC,MAAM,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAKD,GAAG,GAAGC,KAAK,CAACC,KAAK,EAAE,CAAC,CAAC;QAEzG;QACA,IAAIE,QAAQ,GAAe,IAAI;QAC/B,IAAIP,sBAAsB,GAAGM,8BAA8B,EAAE;UAC3DC,QAAQ,GAAGT,MAAM;SAClB,MAAM,IAAIE,sBAAsB,GAAGM,8BAA8B,EAAE;UAClEC,QAAQ,GAAGR,SAAS;;QAGtB,OAAOQ,QAAQ;MACjB,CAAC,CAAC,CACH;IACH,CAAC,CAAC,CACH;EACH;;SA7BWlB,iBAAiB;;mBAAjBA,MAAiB,EAAAmB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,KAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,mBAAA;AAAA;;QAAjBxB,MAAiB;EAAAyB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,2BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCZ9BX,EAAA,CAAAa,cAAA,QAAG;MAAAb,EAAA,CAAAc,MAAA,sBAAe;MAAAd,EAAA,CAAAe,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}