{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { select } from '@ngrx/store';\nimport { filter, of } from 'rxjs';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nexport let FudbalskitimComponent = class FudbalskitimComponent {\n  constructor(store, fudbalskitimService) {\n    this.store = store;\n    this.fudbalskitimService = fudbalskitimService;\n    this.trenutniTimID = 2; // hardcoded\n    this.trenutniTim$ = of();\n    this.igraciTeren$ = of([]);\n    this.igraciTerenIds$ = of([]);\n    this.igraciZamenaIds$ = of([]);\n    this.igraciZamena$ = of([]);\n    this.golmani$ = of([]);\n    this.odbrambeni$ = of([]);\n    this.veznjaci$ = of([]);\n    this.napadaci$ = of([]);\n    this.selectedPlayerIdOut = null;\n    this.selectedPlayerIdIn = null;\n  }\n  ngOnInit() {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    // this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    // this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    // this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    // this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    this.store.dispatch(TimActions.loadTimById({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadIgraciZamena({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadGolmani({\n      timID: this.trenutniTimID\n    }));\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    console.log(this.golmani$);\n    this.store.pipe(select(fromApp.selectIgraciZamena),\n    // Pratimo selektor za igrače zamena\n    filter(igraciZamena => igraciZamena.length > 0)).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena); // Dodeljujemo observable vrednost\n    });\n\n    console.log(this.igraciZamena$);\n    this.store.pipe(select(state => state)).subscribe(currentState => {\n      console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n    });\n  }\n  clickedUlazi(playerId) {\n    this.selectedPlayerIdOut = playerId;\n  }\n  clickedIzlazi(playerId) {\n    this.selectedPlayerIdIn = playerId;\n  }\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(TimActions.swapPlayers({\n        igracIzlaziId: this.selectedPlayerIdOut,\n        igracUlaziId: this.selectedPlayerIdIn\n      }));\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n  }\n};\nFudbalskitimComponent = __decorate([Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})], FudbalskitimComponent);","map":{"version":3,"names":["Component","select","filter","of","fromApp","TimActions","FudbalskitimComponent","constructor","store","fudbalskitimService","trenutniTimID","trenutniTim$","igraciTeren$","igraciTerenIds$","igraciZamenaIds$","igraciZamena$","golmani$","odbrambeni$","veznjaci$","napadaci$","selectedPlayerIdOut","selectedPlayerIdIn","ngOnInit","selectIgraciZamenaIds","selectIgraciTeren","selectGolmani","dispatch","loadTimById","timID","loadIgraciZamena","loadGolmani","console","log","pipe","selectIgraciZamena","igraciZamena","length","subscribe","state","currentState","igraci","timovi","clickedUlazi","playerId","clickedIzlazi","swapPlayers","igracIzlaziId","igracUlaziId","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\AngularProjekat\\src\\app\\components\\fudbalskitim\\fudbalskitim.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\nimport { Observable, filter, of } from 'rxjs';\nimport { AppState } from 'src/app/app.state';\nimport { Igrac } from 'src/app/models/igrac';\nimport { Tim } from 'src/app/models/tim';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service';\nimport { selectIgraciZamena, selectIgraciZamenaIds } from 'src/app/store/igrac.selector';\n\n@Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})\nexport class FudbalskitimComponent implements OnInit {\n  trenutniTimID = 2; // hardcoded\n  trenutniTim$: Observable<Tim | undefined> = of();\n  igraciTeren$: Observable<Igrac[]> = of([]);\n  igraciTerenIds$: Observable<number[]> = of([]);\n  igraciZamenaIds$: Observable<Igrac[]> = of([]);\n  igraciZamena$: Observable<Igrac[]> = of([]);\n  golmani$: Observable<Igrac[]>= of([]);\n  odbrambeni$: Observable<Igrac[]>= of([]);\n  veznjaci$: Observable<Igrac[]>= of([]);\n  napadaci$: Observable<Igrac[]> = of([]);\n\n  selectedPlayerIdOut: number | null = null;\n  selectedPlayerIdIn: number | null = null;\n\n  constructor(private store: Store<AppState>, private fudbalskitimService: FudbalskitimService) {}\n\n  ngOnInit(): void {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    // this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    // this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    // this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    // this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    \n\n    this.store.dispatch(TimActions.loadTimById({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadIgraciZamena({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadGolmani({ timID: this.trenutniTimID }));\n\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    console.log(this.golmani$);\n    \n\n    \n    this.store.pipe(\n      select(fromApp.selectIgraciZamena), // Pratimo selektor za igrače zamena\n      filter(igraciZamena => igraciZamena.length > 0), // Osiguravamo da ima igrača zamena\n    ).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena); // Dodeljujemo observable vrednost\n    });\n\n    \n    console.log(this.igraciZamena$);\n     this.store.pipe(select(state => state)).subscribe(currentState => {\n      console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n      \n    });\n \n  }\n\n  clickedUlazi(playerId: number) {\n    this.selectedPlayerIdOut = playerId;\n  }\n\n  clickedIzlazi(playerId: number) {\n    this.selectedPlayerIdIn = playerId;\n  }\n\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(\n        TimActions.swapPlayers({\n          igracIzlaziId: this.selectedPlayerIdOut,\n          igracUlaziId: this.selectedPlayerIdIn\n        })\n      );\n\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}