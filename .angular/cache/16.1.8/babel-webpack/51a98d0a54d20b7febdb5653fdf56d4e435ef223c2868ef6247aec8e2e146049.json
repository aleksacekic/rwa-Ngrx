{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { select } from '@ngrx/store';\nimport { filter, of } from 'rxjs';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nexport let FudbalskitimComponent = class FudbalskitimComponent {\n  constructor(store, fudbalskitimService) {\n    this.store = store;\n    this.fudbalskitimService = fudbalskitimService;\n    this.trenutniTimID = 2; // hardcoded\n    this.trenutniTim$ = of();\n    this.igraciTerenIds$ = of([]);\n    this.igraciZamenaIds$ = of([]);\n    this.igraciZamena$ = of([]);\n    this.golmani$ = of([]);\n    this.odbrambeni$ = of([]);\n    this.veznjaci$ = of([]);\n    this.napadaci$ = of([]);\n    this.selectedPlayerIdOut = null;\n    this.selectedPlayerIdIn = null;\n  }\n  ngOnInit() {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    this.store.dispatch(TimActions.loadTimById({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadIgraciZamena({\n      timID: this.trenutniTimID\n    }));\n    this.store.pipe(select(fromApp.selectIgraciZamena),\n    // Pratimo selektor za igrače zamena\n    filter(igraciZamena => igraciZamena.length > 0)).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena); // Dodeljujemo observable vrednost\n    });\n\n    console.log(this.igraciZamena$);\n    this.store.pipe(select(state => state)).subscribe(currentState => {\n      console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n    });\n  }\n  clickedUlazi(playerId) {\n    this.selectedPlayerIdOut = playerId;\n  }\n  clickedIzlazi(playerId) {\n    this.selectedPlayerIdIn = playerId;\n  }\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(TimActions.swapPlayers({\n        igracIzlaziId: this.selectedPlayerIdOut,\n        igracUlaziId: this.selectedPlayerIdIn\n      }));\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n  }\n};\nFudbalskitimComponent = __decorate([Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})], FudbalskitimComponent);","map":{"version":3,"names":["Component","select","filter","of","fromApp","TimActions","FudbalskitimComponent","constructor","store","fudbalskitimService","trenutniTimID","trenutniTim$","igraciTerenIds$","igraciZamenaIds$","igraciZamena$","golmani$","odbrambeni$","veznjaci$","napadaci$","selectedPlayerIdOut","selectedPlayerIdIn","ngOnInit","selectIgraciTerenIds","selectIgraciZamenaIds","selectGolmani","selectOdbrambeni","selectVeznjaci","selectNapadaci","dispatch","loadTimById","timID","loadIgraciZamena","pipe","selectIgraciZamena","igraciZamena","length","subscribe","console","log","state","currentState","igraci","timovi","clickedUlazi","playerId","clickedIzlazi","swapPlayers","igracIzlaziId","igracUlaziId","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\AngularProjekat\\src\\app\\components\\fudbalskitim\\fudbalskitim.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\nimport { Observable, filter, of } from 'rxjs';\nimport { AppState } from 'src/app/app.state';\nimport { Igrac } from 'src/app/models/igrac';\nimport { Tim } from 'src/app/models/tim';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service';\nimport { selectIgraciZamena, selectIgraciZamenaIds } from 'src/app/store/igrac.selector';\n\n@Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})\nexport class FudbalskitimComponent implements OnInit {\n  trenutniTimID = 2; // hardcoded\n  trenutniTim$: Observable<Tim | undefined> = of();\n  igraciTerenIds$: Observable<number[]> = of([]);\n  igraciZamenaIds$: Observable<Igrac[]> = of([]);\n  igraciZamena$: Observable<Igrac[]> = of([]);\n  golmani$: Observable<Igrac[]>= of([]);\n  odbrambeni$: Observable<Igrac[]>= of([]);\n  veznjaci$: Observable<Igrac[]>= of([]);\n  napadaci$: Observable<Igrac[]> = of([]);\n\n  selectedPlayerIdOut: number | null = null;\n  selectedPlayerIdIn: number | null = null;\n\n  constructor(private store: Store<AppState>, private fudbalskitimService: FudbalskitimService) {}\n\n  ngOnInit(): void {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    \n\n    this.store.dispatch(TimActions.loadTimById({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadIgraciZamena({ timID: this.trenutniTimID }));\n\n    \n\n    \n    this.store.pipe(\n      select(fromApp.selectIgraciZamena), // Pratimo selektor za igrače zamena\n      filter(igraciZamena => igraciZamena.length > 0), // Osiguravamo da ima igrača zamena\n    ).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena); // Dodeljujemo observable vrednost\n    });\n\n    \n    console.log(this.igraciZamena$);\n     this.store.pipe(select(state => state)).subscribe(currentState => {\n      console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n      \n    });\n \n  }\n\n  clickedUlazi(playerId: number) {\n    this.selectedPlayerIdOut = playerId;\n  }\n\n  clickedIzlazi(playerId: number) {\n    this.selectedPlayerIdIn = playerId;\n  }\n\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(\n        TimActions.swapPlayers({\n          igracIzlaziId: this.selectedPlayerIdOut,\n          igracUlaziId: this.selectedPlayerIdIn\n        })\n      );\n\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}