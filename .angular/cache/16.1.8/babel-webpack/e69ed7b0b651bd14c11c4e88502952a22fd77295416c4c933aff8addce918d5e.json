{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { select } from '@ngrx/store';\nimport { filter, of } from 'rxjs';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nexport let FudbalskitimComponent = class FudbalskitimComponent {\n  constructor(store, fudbalskitimService) {\n    this.store = store;\n    this.fudbalskitimService = fudbalskitimService;\n    this.trenutniTimID = 2; // hardcoded\n    this.trenutniTim$ = of();\n    this.igraciTeren$ = of([]);\n    this.igraciTerenIds$ = of([]);\n    this.igraciZamenaIds$ = of([]);\n    this.igraciZamena$ = of([]);\n    this.golmani$ = of([]);\n    this.odbrambeni$ = of([]);\n    this.veznjaci$ = of([]);\n    this.napadaci$ = of([]);\n    this.selectedPlayerIdOut = null;\n    this.selectedPlayerIdIn = null;\n  }\n  ngOnInit() {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    // this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    // this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    // this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    // this.golmani$ = this.store.select(fromApp.selectGolmani);\n    // this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    // this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    // this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    this.store.dispatch(TimActions.loadTimById({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadIgraciZamena({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadIgraciTeren({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadGolmani({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadOdbrambeni({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadVeznjaci({\n      timID: this.trenutniTimID\n    }));\n    this.store.dispatch(TimActions.loadNapadaci({\n      timID: this.trenutniTimID\n    }));\n    this.store.pipe(select(fromApp.selectGolmani), filter(golmani => golmani.length > 0)).subscribe(golmani => {\n      this.golmani$ = of(golmani);\n    });\n    this.store.pipe(select(fromApp.selectOdbrambeni), filter(odbrambeni => odbrambeni.length > 0)).subscribe(odbrambeni => {\n      this.odbrambeni$ = of(odbrambeni);\n    });\n    this.store.pipe(select(fromApp.selectVeznjaci), filter(vezni => vezni.length > 0)).subscribe(vezni => {\n      this.veznjaci$ = of(vezni);\n    });\n    this.store.pipe(select(fromApp.selectNapadaci), filter(napadaci => napadaci.length > 0)).subscribe(napadaci => {\n      this.napadaci$ = of(napadaci);\n    });\n    this.store.pipe(select(fromApp.selectIgraciZamena), filter(igraciZamena => igraciZamena.length > 0)).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena);\n    });\n    // console.log(this.igraciZamena$);\n    //  this.store.pipe(select(state => state)).subscribe(currentState => {\n    //   console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n    // });\n  }\n\n  clickedUlazi(playerId) {\n    this.selectedPlayerIdOut = playerId;\n  }\n  clickedIzlazi(playerId) {\n    this.selectedPlayerIdIn = playerId;\n  }\n};\nFudbalskitimComponent = __decorate([Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})], FudbalskitimComponent);","map":{"version":3,"names":["Component","select","filter","of","fromApp","TimActions","FudbalskitimComponent","constructor","store","fudbalskitimService","trenutniTimID","trenutniTim$","igraciTeren$","igraciTerenIds$","igraciZamenaIds$","igraciZamena$","golmani$","odbrambeni$","veznjaci$","napadaci$","selectedPlayerIdOut","selectedPlayerIdIn","ngOnInit","dispatch","loadTimById","timID","loadIgraciZamena","loadIgraciTeren","loadGolmani","loadOdbrambeni","loadVeznjaci","loadNapadaci","pipe","selectGolmani","golmani","length","subscribe","selectOdbrambeni","odbrambeni","selectVeznjaci","vezni","selectNapadaci","napadaci","selectIgraciZamena","igraciZamena","clickedUlazi","playerId","clickedIzlazi","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna povr≈°ina\\AngularProjekat\\src\\app\\components\\fudbalskitim\\fudbalskitim.component.ts"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\nimport { Observable, filter, of } from 'rxjs';\nimport { AppState } from 'src/app/app.state';\nimport { Igrac } from 'src/app/models/igrac';\nimport { Tim } from 'src/app/models/tim';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service';\n\n\n@Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})\nexport class FudbalskitimComponent implements OnInit {\n  trenutniTimID = 2; // hardcoded\n  trenutniTim$: Observable<Tim | undefined> = of();\n  igraciTeren$: Observable<Igrac[]> = of([]);\n  igraciTerenIds$: Observable<number[]> = of([]);\n  igraciZamenaIds$: Observable<Igrac[]> = of([]);\n  igraciZamena$: Observable<Igrac[]> = of([]);\n  golmani$: Observable<Igrac[]>= of([]);\n  odbrambeni$: Observable<Igrac[]>= of([]);\n  veznjaci$: Observable<Igrac[]>= of([]);\n  napadaci$: Observable<Igrac[]> = of([]);\n\n  selectedPlayerIdOut: number | null = null;\n  selectedPlayerIdIn: number | null = null;\n\n  constructor(private store: Store<AppState>, private fudbalskitimService: FudbalskitimService) {}\n\n  ngOnInit(): void {\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    // this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    // this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    // this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    // this.golmani$ = this.store.select(fromApp.selectGolmani);\n    // this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    // this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    // this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    \n\n    this.store.dispatch(TimActions.loadTimById({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadIgraciZamena({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadIgraciTeren({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadGolmani({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadOdbrambeni({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadVeznjaci({ timID: this.trenutniTimID }));\n    this.store.dispatch(TimActions.loadNapadaci({ timID: this.trenutniTimID }));\n\n\n\n    this.store.pipe(\n      select(fromApp.selectGolmani),\n      filter(golmani => golmani.length > 0),\n    ).subscribe(golmani => {\n      this.golmani$ = of(golmani);\n    });\n\n    this.store.pipe(\n      select(fromApp.selectOdbrambeni),\n      filter(odbrambeni => odbrambeni.length > 0),\n    ).subscribe(odbrambeni => {\n      this.odbrambeni$ = of(odbrambeni);\n    });\n\n    this.store.pipe(\n      select(fromApp.selectVeznjaci),\n      filter(vezni => vezni.length > 0),\n    ).subscribe(vezni => {\n      this.veznjaci$ = of(vezni);\n    });\n\n    this.store.pipe(\n      select(fromApp.selectNapadaci),\n      filter(napadaci => napadaci.length > 0),\n    ).subscribe(napadaci => {\n      this.napadaci$ = of(napadaci);\n    });\n    \n    \n    this.store.pipe(\n      select(fromApp.selectIgraciZamena),\n      filter(igraciZamena => igraciZamena.length > 0),\n    ).subscribe(igraciZamena => {\n      this.igraciZamena$ = of(igraciZamena);\n    });\n     \n    // console.log(this.igraciZamena$);\n    //  this.store.pipe(select(state => state)).subscribe(currentState => {\n    //   console.log('Trenutno stanje:', currentState.igraci, currentState.timovi);\n    // });\n \n  }\n\n  clickedUlazi(playerId: number) {\n    this.selectedPlayerIdOut = playerId;\n  }\n\n  clickedIzlazi(playerId: number) {\n    this.selectedPlayerIdIn = playerId;\n  }\n\n  // swapPlayers() {\n  //   if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n  //     this.store.dispatch(\n  //       TimActions.swapPlayers({\n  //         igracIzlaziId: this.selectedPlayerIdOut,\n  //         igracUlaziId: this.selectedPlayerIdIn\n  //       })\n  //     );\n\n  //     this.selectedPlayerIdOut = null;\n  //     this.selectedPlayerIdIn = null;\n  //   }\n  // }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}