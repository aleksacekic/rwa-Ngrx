{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\AngularProjekat\\src\\app\\store\\igrac.effects.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport { of } from 'rxjs';\r\nimport { catchError, map, mergeMap } from 'rxjs/operators';\r\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service';\r\nimport { swapPlayers, swapPlayersSuccess} from 'src/app/store/igrac.action';\r\nimport {TimAction}\r\n\r\n@Injectable()\r\nexport class TimEffects {\r\n  constructor(\r\n    private actions$: Actions,\r\n    private fudbalskitimService: FudbalskitimService\r\n  ) {}\r\n\r\n  swapPlayers$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(swapPlayers),\r\n      mergeMap(({ selectedPlayerIdOut, selectedPlayerIdIn }) =>\r\n        this.fudbalskitimService.swapPlayers(selectedPlayerIdOut, selectedPlayerIdIn).pipe(\r\n          map(() => swapPlayersSuccess()), // Emitujte akciju za uspešno zamenjene igrače\r\n          catchError(() => of()) // Emitujte akciju za neuspešnu zamenu igrača\r\n        )\r\n      )\r\n    )\r\n  );\r\n}\r\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}