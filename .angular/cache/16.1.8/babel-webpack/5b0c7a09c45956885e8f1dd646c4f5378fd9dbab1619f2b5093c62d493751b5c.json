{"ast":null,"code":"var _class;\nimport { select } from '@ngrx/store';\nimport { filter, of } from 'rxjs';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nimport { selectIgraciZamena } from 'src/app/store/igrac.selector';\nimport { loadGolmani, loadIgraciTeren, loadNapadaci, loadOdbrambeni, loadTimById, loadTrenutniKorisnik, loadVeznjaci } from 'src/app/store/igrac.action';\nimport { Emitters } from 'src/app/emitters/emitters';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nimport * as i2 from \"src/app/services/fudbalskitim.service\";\nimport * as i3 from \"src/app/services/auth.service\";\nimport * as i4 from \"src/app/services/jwt.service\";\nimport * as i5 from \"src/app/services/korisnik.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../kartice/kartice.component\";\nfunction FudbalskitimComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function FudbalskitimComponent_div_4_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const igrac_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.clickedIzlazi(igrac_r5.id));\n    });\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const igrac_r5 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(igrac_r5.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r5.ime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r5.ocena);\n  }\n}\nfunction FudbalskitimComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function FudbalskitimComponent_div_7_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const igrac_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.clickedIzlazi(igrac_r8.id));\n    });\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const igrac_r8 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(igrac_r8.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r8.ime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r8.ocena);\n  }\n}\nfunction FudbalskitimComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function FudbalskitimComponent_div_10_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const igrac_r11 = restoredCtx.$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.clickedIzlazi(igrac_r11.id));\n    });\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const igrac_r11 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(igrac_r11.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r11.ime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r11.ocena);\n  }\n}\nfunction FudbalskitimComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7);\n    i0.ɵɵlistener(\"click\", function FudbalskitimComponent_div_13_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const igrac_r14 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.clickedIzlazi(igrac_r14.id));\n    });\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const igrac_r14 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(igrac_r14.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r14.ime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r14.ocena);\n  }\n}\nfunction FudbalskitimComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 12);\n    i0.ɵɵlistener(\"click\", function FudbalskitimComponent_div_16_Template_div_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const igrac_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.clickedUlazi(igrac_r17.id));\n    });\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 10);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const igrac_r17 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(igrac_r17.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r17.ime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(igrac_r17.ocena);\n  }\n}\nexport class FudbalskitimComponent {\n  constructor(store, fudbalskitimService, authService, jwtService, korisnikService) {\n    this.store = store;\n    this.fudbalskitimService = fudbalskitimService;\n    this.authService = authService;\n    this.jwtService = jwtService;\n    this.korisnikService = korisnikService;\n    this.trenutniTim$ = of();\n    this.igraciTeren$ = of([]);\n    this.igraciTerenIds$ = of([]);\n    this.igraciZamenaIds$ = of([]);\n    this.igraciZamena$ = of([]);\n    this.golmani$ = of([]);\n    this.odbrambeni$ = of([]);\n    this.veznjaci$ = of([]);\n    this.napadaci$ = of([]);\n    this.selectedPlayerIdOut = null;\n    this.selectedPlayerIdIn = null;\n    this.authenticated = true;\n    this.igraciZamena$ = this.store.select(selectIgraciZamena);\n    this.trenutniKorisnikID = null;\n    this.trenutniTimID = 0;\n    this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n  }\n  ngOnInit() {\n    Emitters.authEmitter.emit(true);\n    if (this.authService.isLoggedIn()) {\n      const token = this.jwtService.getToken();\n      if (token) {\n        const decodedToken = atob(token.split('.')[1]);\n        const parsedToken = JSON.parse(decodedToken);\n        const userId = parsedToken.id;\n        this.trenutniKorisnikID = userId;\n        this.trenutniKorisnik$ = this.korisnikService.getKorisnikById(userId);\n        this.trenutniKorisnik$.subscribe(korisnik => {\n          if (korisnik) {\n            this.trenutniTimID = korisnik.timId;\n            if (this.trenutniTimID) {\n              this.store.dispatch(TimActions.loadIgraciZamena({\n                timID: this.trenutniTimID\n              }));\n              this.store.dispatch(loadTimById({\n                timID: this.trenutniTimID\n              }));\n              this.store.dispatch(loadIgraciTeren({\n                timID: this.trenutniTimID\n              }));\n              this.store.dispatch(loadGolmani({\n                timID: this.trenutniTimID\n              }));\n              this.store.dispatch(loadOdbrambeni({\n                timID: this.trenutniTimID\n              }));\n              this.store.dispatch(loadVeznjaci({\n                timID: this.trenutniTimID\n              }));\n              this.store.dispatch(loadNapadaci({\n                timID: this.trenutniTimID\n              }));\n              this.store.dispatch(loadTrenutniKorisnik({\n                korisnikId: userId\n              }));\n            }\n          }\n        });\n        this.store.pipe(select(fromApp.selectGolmani), filter(golmani => golmani.length > 0)).subscribe(golmani => {\n          this.golmani$ = of(golmani);\n        });\n        this.store.pipe(select(fromApp.selectOdbrambeni), filter(odbrambeni => odbrambeni.length > 0)).subscribe(odbrambeni => {\n          this.odbrambeni$ = of(odbrambeni);\n        });\n        this.store.pipe(select(fromApp.selectVeznjaci), filter(vezni => vezni.length > 0)).subscribe(vezni => {\n          this.veznjaci$ = of(vezni);\n        });\n        this.store.pipe(select(fromApp.selectNapadaci), filter(napadaci => napadaci.length > 0)).subscribe(napadaci => {\n          this.napadaci$ = of(napadaci);\n        });\n        this.store.pipe(select(fromApp.selectIgraciTeren), filter(igraciTeren => igraciTeren.length > 0)).subscribe(igraciTeren => {\n          this.igraciTeren$ = of(igraciTeren);\n        });\n        this.store.pipe(select(fromApp.selectIgraciZamena), filter(igraciZamena => igraciZamena.length > 0)).subscribe(igraciZamena => {\n          this.igraciZamena$ = of(igraciZamena);\n        });\n      }\n    }\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    // this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    // this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    // this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    // this.golmani$ = this.store.select(fromApp.selectGolmani);\n    // this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    // this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    // this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n    // this.store.dispatch(TimActions.loadTimById({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadIgraciTeren({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadGolmani({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadOdbrambeni({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadVeznjaci({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadNapadaci({ timID: this.trenutniTimID }));\n  }\n\n  clickedUlazi(playerId) {\n    this.selectedPlayerIdIn = playerId;\n  }\n  clickedIzlazi(playerId) {\n    this.selectedPlayerIdOut = playerId;\n  }\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(TimActions.swapPlayers({\n        timID: this.trenutniTimID,\n        igracUlaziId: this.selectedPlayerIdIn,\n        igracIzlaziId: this.selectedPlayerIdOut\n      }));\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n  }\n}\n_class = FudbalskitimComponent;\n_class.ɵfac = function FudbalskitimComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i2.FudbalskitimService), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.JwtService), i0.ɵɵdirectiveInject(i5.KorisnikService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-fudbalskitim\"]],\n  decls: 18,\n  vars: 15,\n  consts: [[1, \"football-field\"], [1, \"teren\", 3, \"click\"], [1, \"linija-tima\"], [\"class\", \"player\", 4, \"ngFor\", \"ngForOf\"], [1, \"zamene\"], [\"class\", \"player substitute\", 4, \"ngFor\", \"ngForOf\"], [1, \"player\"], [1, \"player-circle\", 3, \"click\"], [1, \"player-number\"], [1, \"player-name\"], [1, \"player-rating\"], [1, \"player\", \"substitute\"], [1, \"player-circle\", \"substitute-circle\", 3, \"click\"]],\n  template: function FudbalskitimComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-kartice\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1);\n      i0.ɵɵlistener(\"click\", function FudbalskitimComponent_Template_div_click_2_listener() {\n        return ctx.swapPlayers();\n      });\n      i0.ɵɵelementStart(3, \"div\", 2);\n      i0.ɵɵtemplate(4, FudbalskitimComponent_div_4_Template, 8, 3, \"div\", 3);\n      i0.ɵɵpipe(5, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 2);\n      i0.ɵɵtemplate(7, FudbalskitimComponent_div_7_Template, 8, 3, \"div\", 3);\n      i0.ɵɵpipe(8, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 2);\n      i0.ɵɵtemplate(10, FudbalskitimComponent_div_10_Template, 8, 3, \"div\", 3);\n      i0.ɵɵpipe(11, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 2);\n      i0.ɵɵtemplate(13, FudbalskitimComponent_div_13_Template, 8, 3, \"div\", 3);\n      i0.ɵɵpipe(14, \"async\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 4);\n      i0.ɵɵtemplate(16, FudbalskitimComponent_div_16_Template, 8, 3, \"div\", 5);\n      i0.ɵɵpipe(17, \"async\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(5, 5, ctx.golmani$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(8, 7, ctx.odbrambeni$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(11, 9, ctx.veznjaci$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(14, 11, ctx.napadaci$));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(17, 13, ctx.igraciZamena$));\n    }\n  },\n  dependencies: [i6.NgForOf, i7.KarticeComponent, i6.AsyncPipe],\n  styles: [\".football-field[_ngcontent-%COMP%] {\\n  position: relative;\\n  background: rgb(1, 182, 1);\\n  width: 800px;\\n  height: 500px;\\n  margin: 0 auto;\\n  margin-top:60px;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.zamene[_ngcontent-%COMP%]{\\n  background-color: rgb(18, 233, 18);\\n}\\n\\n.teren[_ngcontent-%COMP%] {\\n  position: relative;\\n  background: rgb(0, 182, 0);\\n  width: 100%;\\n  height: 100%;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  justify-content: center;\\n  align-content: space-around;\\n}\\n\\n.linija-tima[_ngcontent-%COMP%]{\\n  display:flex;\\n  flex-direction: column;\\n  width: 25%;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n\\n.player[_ngcontent-%COMP%] {\\n  width: 80px;\\n  height: 80px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  margin: 10px;\\n}\\n\\n.player-circle[_ngcontent-%COMP%] {\\n  width: 80px;\\n  height: 80px;\\n  background-color: #3498db;\\n  color: black;\\n  border-radius: 50%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.substitute-circle[_ngcontent-%COMP%] {\\n  background-color: #e74c3c;\\n}\\n\\n.player-number[_ngcontent-%COMP%] {\\n  font-size: 22px;\\n  color: black;\\n\\n}\\n\\n.player-name[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  color: black;\\n  word-wrap: break-word;\\n}\\n\\n.player-rating[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  color: black;\\n  border: 1px solid black;\\n  padding: 2px;\\n}\\n\\n\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9mdWRiYWxza2l0aW0vZnVkYmFsc2tpdGltLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBa0I7RUFDbEIsMEJBQTBCO0VBQzFCLFlBQVk7RUFDWixhQUFhO0VBQ2IsY0FBYztFQUNkLGVBQWU7RUFDZixhQUFhO0VBQ2IsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0Usa0NBQWtDO0FBQ3BDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLDBCQUEwQjtFQUMxQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsZUFBZTtFQUNmLHVCQUF1QjtFQUN2QiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxZQUFZO0VBQ1osc0JBQXNCO0VBQ3RCLFVBQVU7RUFDVix1QkFBdUI7RUFDdkIsbUJBQW1CO0FBQ3JCOzs7QUFHQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osYUFBYTtFQUNiLHVCQUF1QjtFQUN2QixtQkFBbUI7RUFDbkIsWUFBWTtBQUNkOztBQUVBO0VBQ0UsV0FBVztFQUNYLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLHVCQUF1QjtFQUN2QixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsWUFBWTs7QUFFZDs7QUFFQTtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1oscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWix1QkFBdUI7RUFDdkIsWUFBWTtBQUNkIiwic291cmNlc0NvbnRlbnQiOlsiLmZvb3RiYWxsLWZpZWxkIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgYmFja2dyb3VuZDogcmdiKDEsIDE4MiwgMSk7XHJcbiAgd2lkdGg6IDgwMHB4O1xyXG4gIGhlaWdodDogNTAwcHg7XHJcbiAgbWFyZ2luOiAwIGF1dG87XHJcbiAgbWFyZ2luLXRvcDo2MHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi56YW1lbmV7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4LCAyMzMsIDE4KTtcclxufVxyXG5cclxuLnRlcmVuIHtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgYmFja2dyb3VuZDogcmdiKDAsIDE4MiwgMCk7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgaGVpZ2h0OiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcclxuICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24tY29udGVudDogc3BhY2UtYXJvdW5kO1xyXG59XHJcblxyXG4ubGluaWphLXRpbWF7XHJcbiAgZGlzcGxheTpmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgd2lkdGg6IDI1JTtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG5cclxuLnBsYXllciB7XHJcbiAgd2lkdGg6IDgwcHg7XHJcbiAgaGVpZ2h0OiA4MHB4O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW46IDEwcHg7XHJcbn1cclxuXHJcbi5wbGF5ZXItY2lyY2xlIHtcclxuICB3aWR0aDogODBweDtcclxuICBoZWlnaHQ6IDgwcHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzM0OThkYjtcclxuICBjb2xvcjogYmxhY2s7XHJcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uc3Vic3RpdHV0ZS1jaXJjbGUge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNlNzRjM2M7XHJcbn1cclxuXHJcbi5wbGF5ZXItbnVtYmVyIHtcclxuICBmb250LXNpemU6IDIycHg7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG5cclxufVxyXG5cclxuLnBsYXllci1uYW1lIHtcclxuICBmb250LXNpemU6IDEwcHg7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcclxufVxyXG5cclxuLnBsYXllci1yYXRpbmcge1xyXG4gIGZvbnQtc2l6ZTogMTBweDtcclxuICBjb2xvcjogYmxhY2s7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgcGFkZGluZzogMnB4O1xyXG59XHJcblxyXG5cclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["select","filter","of","fromApp","TimActions","selectIgraciZamena","loadGolmani","loadIgraciTeren","loadNapadaci","loadOdbrambeni","loadTimById","loadTrenutniKorisnik","loadVeznjaci","Emitters","i0","ɵɵelementStart","ɵɵlistener","FudbalskitimComponent_div_4_Template_div_click_1_listener","restoredCtx","ɵɵrestoreView","_r7","igrac_r5","$implicit","ctx_r6","ɵɵnextContext","ɵɵresetView","clickedIzlazi","id","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ime","ocena","FudbalskitimComponent_div_7_Template_div_click_1_listener","_r10","igrac_r8","ctx_r9","FudbalskitimComponent_div_10_Template_div_click_1_listener","_r13","igrac_r11","ctx_r12","FudbalskitimComponent_div_13_Template_div_click_1_listener","_r16","igrac_r14","ctx_r15","FudbalskitimComponent_div_16_Template_div_click_1_listener","_r19","igrac_r17","ctx_r18","clickedUlazi","FudbalskitimComponent","constructor","store","fudbalskitimService","authService","jwtService","korisnikService","trenutniTim$","igraciTeren$","igraciTerenIds$","igraciZamenaIds$","igraciZamena$","golmani$","odbrambeni$","veznjaci$","napadaci$","selectedPlayerIdOut","selectedPlayerIdIn","authenticated","trenutniKorisnikID","trenutniTimID","selectTrenutniTim","selectIgraciTeren","selectGolmani","selectOdbrambeni","selectVeznjaci","selectNapadaci","ngOnInit","authEmitter","emit","isLoggedIn","token","getToken","decodedToken","atob","split","parsedToken","JSON","parse","userId","trenutniKorisnik$","getKorisnikById","subscribe","korisnik","timId","dispatch","loadIgraciZamena","timID","korisnikId","pipe","golmani","length","odbrambeni","vezni","napadaci","igraciTeren","igraciZamena","playerId","swapPlayers","igracUlaziId","igracIzlaziId","ɵɵdirectiveInject","i1","Store","i2","FudbalskitimService","i3","AuthService","i4","JwtService","i5","KorisnikService","selectors","decls","vars","consts","template","FudbalskitimComponent_Template","rf","ctx","ɵɵelement","FudbalskitimComponent_Template_div_click_2_listener","ɵɵtemplate","FudbalskitimComponent_div_4_Template","FudbalskitimComponent_div_7_Template","FudbalskitimComponent_div_10_Template","FudbalskitimComponent_div_13_Template","FudbalskitimComponent_div_16_Template","ɵɵproperty","ɵɵpipeBind1"],"sources":["D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\RWA - Drugi i treci projekat\\AngularProjekat\\src\\app\\components\\fudbalskitim\\fudbalskitim.component.ts","D:\\OneDrive\\OneDrive - Faculty of Electronic Engineering\\Radna površina\\RWA - Drugi i treci projekat\\AngularProjekat\\src\\app\\components\\fudbalskitim\\fudbalskitim.component.html"],"sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { Store, select } from '@ngrx/store';\nimport { Observable, filter, of } from 'rxjs';\nimport { AppState } from 'src/app/app.state';\nimport { Igrac } from 'src/app/models/igrac';\nimport { Tim } from 'src/app/models/tim';\nimport * as fromApp from 'src/app/store/igrac.selector';\nimport * as TimActions from 'src/app/store/igrac.action';\nimport { FudbalskitimService } from 'src/app/services/fudbalskitim.service';\nimport { selectIgraciZamena } from 'src/app/store/igrac.selector';\nimport { loadGolmani, loadIgraciTeren, loadIgraciZamena, loadNapadaci, loadOdbrambeni, loadTimById, loadTrenutniKorisnik, loadVeznjaci } from 'src/app/store/igrac.action';\nimport { Emitters } from 'src/app/emitters/emitters';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { JwtService } from 'src/app/services/jwt.service';\nimport { KorisnikService } from 'src/app/services/korisnik.service';\n\n\n@Component({\n  selector: 'app-fudbalskitim',\n  templateUrl: './fudbalskitim.component.html',\n  styleUrls: ['./fudbalskitim.component.css']\n})\nexport class FudbalskitimComponent implements OnInit {\n  trenutniKorisnik$: Observable<any> | undefined;\n  trenutniTimID: number;\n  trenutniKorisnikID: number | null;\n  trenutniTim$: Observable<Tim | undefined> = of();\n  igraciTeren$: Observable<Igrac[]> = of([]);\n  igraciTerenIds$: Observable<number[]> = of([]);\n  igraciZamenaIds$: Observable<Igrac[]> = of([]);\n  igraciZamena$: Observable<Igrac[]> = of([]);\n  golmani$: Observable<Igrac[]> = of([]);\n  odbrambeni$: Observable<Igrac[]> = of([]);\n  veznjaci$: Observable<Igrac[]> = of([]);\n  napadaci$: Observable<Igrac[]> = of([]);\n\n  selectedPlayerIdOut: number | null = null;\n  selectedPlayerIdIn: number | null = null;\n  authenticated = true;\n  \n  constructor(private store: Store<AppState>, private fudbalskitimService: FudbalskitimService, private authService: AuthService,\n    private jwtService: JwtService, private korisnikService: KorisnikService) {\n    this.igraciZamena$ = this.store.select(selectIgraciZamena)\n    this.trenutniKorisnikID = null;\n    this.trenutniTimID = 0\n\n    this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    this.golmani$ = this.store.select(fromApp.selectGolmani);\n    this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n\n  }\n\n  ngOnInit(): void {\n    Emitters.authEmitter.emit(true);\n    if (this.authService.isLoggedIn()) {\n      const token = this.jwtService.getToken();\n      if (token) {\n        const decodedToken = atob(token.split('.')[1]);\n        const parsedToken = JSON.parse(decodedToken);\n        const userId = parsedToken.id;\n        this.trenutniKorisnikID = userId;\n        this.trenutniKorisnik$ = this.korisnikService.getKorisnikById(userId);\n\n        this.trenutniKorisnik$.subscribe((korisnik) => {\n          if (korisnik) {\n            this.trenutniTimID = korisnik.timId;\n            if (this.trenutniTimID) {\n              this.store.dispatch(TimActions.loadIgraciZamena({ timID: this.trenutniTimID }));\n              this.store.dispatch(loadTimById({ timID: this.trenutniTimID }));\n              this.store.dispatch(loadIgraciTeren({ timID: this.trenutniTimID }));\n              this.store.dispatch(loadGolmani({ timID: this.trenutniTimID }));\n              this.store.dispatch(loadOdbrambeni({ timID: this.trenutniTimID }));\n              this.store.dispatch(loadVeznjaci({ timID: this.trenutniTimID }));\n              this.store.dispatch(loadNapadaci({ timID: this.trenutniTimID }));\n              this.store.dispatch(loadTrenutniKorisnik({ korisnikId: userId }))\n            }\n          }\n        })\n\n        this.store.pipe(\n          select(fromApp.selectGolmani),\n          filter(golmani => golmani.length > 0),\n        ).subscribe(golmani => {\n          this.golmani$ = of(golmani);\n        });\n\n        this.store.pipe(\n          select(fromApp.selectOdbrambeni),\n          filter(odbrambeni => odbrambeni.length > 0),\n        ).subscribe(odbrambeni => {\n          this.odbrambeni$ = of(odbrambeni);\n        });\n\n        this.store.pipe(\n          select(fromApp.selectVeznjaci),\n          filter(vezni => vezni.length > 0),\n        ).subscribe(vezni => {\n          this.veznjaci$ = of(vezni);\n        });\n\n        this.store.pipe(\n          select(fromApp.selectNapadaci),\n          filter(napadaci => napadaci.length > 0),\n        ).subscribe(napadaci => {\n          this.napadaci$ = of(napadaci);\n        });\n\n        this.store.pipe(\n          select(fromApp.selectIgraciTeren),\n          filter(igraciTeren => igraciTeren.length > 0),\n        ).subscribe(igraciTeren => {\n          this.igraciTeren$ = of(igraciTeren);\n        });\n\n        this.store.pipe(\n          select(fromApp.selectIgraciZamena),\n          filter(igraciZamena => igraciZamena.length > 0),\n        ).subscribe(igraciZamena => {\n          this.igraciZamena$ = of(igraciZamena);\n        });\n\n\n      }\n    }\n    // this.trenutniTim$ = this.store.select(fromApp.selectTrenutniTim);\n    // this.igraciTerenIds$ = this.store.select(fromApp.selectIgraciTerenIds);\n    // this.igraciZamenaIds$ = this.store.select(fromApp.selectIgraciZamenaIds);\n    // this.igraciZamena$ = this.store.select(fromApp.selectIgraciZamena);\n    // this.igraciTeren$ = this.store.select(fromApp.selectIgraciTeren);\n    // this.golmani$ = this.store.select(fromApp.selectGolmani);\n    // this.odbrambeni$ = this.store.select(fromApp.selectOdbrambeni);\n    // this.veznjaci$ = this.store.select(fromApp.selectVeznjaci);\n    // this.napadaci$ = this.store.select(fromApp.selectNapadaci);\n\n\n    // this.store.dispatch(TimActions.loadTimById({ timID: this.trenutniTimID }));\n\n    // this.store.dispatch(TimActions.loadIgraciTeren({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadGolmani({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadOdbrambeni({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadVeznjaci({ timID: this.trenutniTimID }));\n    // this.store.dispatch(TimActions.loadNapadaci({ timID: this.trenutniTimID }));\n\n  }\n\n  clickedUlazi(playerId: number) {\n    this.selectedPlayerIdIn = playerId;\n  }\n\n  clickedIzlazi(playerId: number) {\n    this.selectedPlayerIdOut = playerId;\n  }\n\n\n\n  swapPlayers() {\n    if (this.selectedPlayerIdOut !== null && this.selectedPlayerIdIn !== null) {\n      this.store.dispatch(\n        TimActions.swapPlayers({\n          timID: this.trenutniTimID,\n          igracUlaziId: this.selectedPlayerIdIn,\n          igracIzlaziId: this.selectedPlayerIdOut,\n        })\n      );\n\n      this.selectedPlayerIdOut = null;\n      this.selectedPlayerIdIn = null;\n    }\n\n  }\n\n\n}\n","<app-kartice></app-kartice>\n\n<div class=\"football-field\">\n  <div class=\"teren\" (click)=\"swapPlayers()\">\n    <!-- \" -->\n    <div class=\"linija-tima\">\n      <div class=\"player\" *ngFor=\"let igrac of golmani$ | async\">\n        <div class=\"player-circle\" (click)=\"clickedIzlazi(igrac.id)\">\n          <div class=\"player-number\">{{ igrac.id }}</div>\n          <div class=\"player-name\">{{ igrac.ime }}</div>\n          <div class=\"player-rating\">{{ igrac.ocena }}</div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"linija-tima\">\n      <div class=\"player\" *ngFor=\"let igrac of odbrambeni$ | async\">\n        <div class=\"player-circle\" (click)=\"clickedIzlazi(igrac.id)\">\n          <div class=\"player-number\">{{ igrac.id }}</div>\n          <div class=\"player-name\">{{ igrac.ime }}</div>\n          <div class=\"player-rating\">{{ igrac.ocena }}</div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"linija-tima\">\n      <div class=\"player\" *ngFor=\"let igrac of veznjaci$ | async\">\n        <div class=\"player-circle\" (click)=\"clickedIzlazi(igrac.id)\">\n          <div class=\"player-number\">{{ igrac.id }}</div>\n          <div class=\"player-name\">{{ igrac.ime }}</div>\n          <div class=\"player-rating\">{{ igrac.ocena }}</div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"linija-tima\">\n      <div class=\"player\" *ngFor=\"let igrac of napadaci$ | async\">\n        <div class=\"player-circle\" (click)=\"clickedIzlazi(igrac.id)\">\n          <div class=\"player-number\">{{ igrac.id }}</div>\n          <div class=\"player-name\">{{ igrac.ime }}</div>\n          <div class=\"player-rating\">{{ igrac.ocena }}</div>\n        </div>\n      </div>\n    </div>\n  </div> \n\n\n  <div class=\"zamene\">\n    <div class=\"player substitute\" *ngFor=\"let igrac of igraciZamena$ | async\">\n      <div class=\"player-circle substitute-circle\" (click)=\"clickedUlazi(igrac.id)\">\n        <div class=\"player-number\">{{ igrac.id }}</div>\n        <div class=\"player-name\">{{ igrac.ime }}</div>\n        <div class=\"player-rating\">{{ igrac.ocena }}</div>\n      </div>\n    </div>\n  </div>\n</div>\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}